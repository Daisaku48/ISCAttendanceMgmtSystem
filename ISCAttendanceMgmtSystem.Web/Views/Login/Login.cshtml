@using ISCAttendanceMgmtSystem.COM.Models
@model LoginViewModelSd
@{
    ViewBag.Title = "LOGIN";
    var orgCode = Request.QueryString["P1"] ?? string.Empty;
    var employeeNo = Request.QueryString["P2"] ?? string.Empty;
    var loginDisplay = string.IsNullOrWhiteSpace(orgCode) && string.IsNullOrWhiteSpace(employeeNo)
        ? string.Empty
        : $"{orgCode}ー{employeeNo}";
}

@Styles.Render("~/Content/css/login")

<div class="login-page">
    <header class="login-header">
        <h1 class="login-header__title">協力会社入退場記録システムメニュー</h1>
    </header>

    <div class="login-content">
        <div class="login-main">
            <h2 class="login-main__title">入退場記録メインメニュー</h2>
            <div class="login-main__action">
                <a class="login-action" href="@Url.Action("Index", "Top")">イベント選択</a>
            </div>
        </div>

        <aside class="login-info">
            <div class="login-info__row">
                <span class="login-info__label">ログイン</span>
                <span class="login-info__value">@loginDisplay</span>
            </div>
            <div class="login-info__row">
                <span class="login-info__label">日付</span>
                <span class="login-info__value" id="loginDate"></span>
            </div>
            <div class="login-info__row">
                <span class="login-info__label">時刻</span>
                <span class="login-info__value" id="loginTime"></span>
            </div>
        </aside>
    </div>
</div>

<script type="text/javascript">
    (function () {
        function pad(value) {
            return value < 10 ? "0" + value : value;
        }

        function updateClock() {
            var now = new Date();
            var dateText = now.getFullYear() + "/" + pad(now.getMonth() + 1) + "/" + pad(now.getDate());
            var timeText = pad(now.getHours()) + ":" + pad(now.getMinutes());
            document.getElementById("loginDate").textContent = dateText;
            document.getElementById("loginTime").textContent = timeText;
        }

        updateClock();
        setInterval(updateClock, 60000);
    })();
</script>
